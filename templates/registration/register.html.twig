{% extends 'base.html.twig' %}

{% block title %}Register
{% endblock %}

{% block body %}
	{% for flash_error in app.flashes('verify_email_error') %}
		<div class="alert alert-danger" role="alert">{{ flash_error }}</div>
	{% endfor %}
	<nav id="header-nav">
		<div>
			<i class="fa-solid fa-house"></i>
			<h2>
				ImmoLite
			</h2>
		</div>
		<ul>
			<li>
				<a href="{{path('app_home')}}" style="{% if app.request.attributes.get('_route') == "app_home" %} background: red; color: white; {% endif %}">Accueil</a>
			</li>
			<li>
				<a href="{{path('app_list')}}" style="{% if app.request.attributes.get('_route') == "app_liste" %} background: red; color: white; {% endif %}">Liste</a>
			</li>
			<li>
				<a href="" style="{% if app.request.attributes.get('_route') == "app_fiche" %} background: red; color: white; {% endif %}">Fiche</a>
			</li>
			{% if is_granted('ROLE_ADMIN')
                %}
				<li>
					<a href="">Admin</a>
				</li>
			{% endif %}
		</ul>
		<ul>
			<li><a href="{{path('app_login')}}">Se Connecter</a></li>
			<li><a href="{{path('app_register')}}">S'inscrire</a></li>
		</ul>
	</nav>


	<form class="connexion-inscription-form">
		<h1>Inscription</h1>
		{{ form_errors(registrationForm) }}

		{{ form_start(registrationForm) }}
		{{ form_row(registrationForm.email) }}
		{{ form_row(registrationForm.plainPassword, {
            label: 'Mot de passe'
        }) }}
		{{ form_row(registrationForm.agreeTerms , {label : "Accepter termes et conditions"}) }}
		<button type="submit" class="btn redButton">S'inscrire</button>
		{{ form_end(registrationForm) }}
	</form>
{% endblock %}
